var driver;(()=>{var t={916:(e,t,a)=>{let r=a(733),i=[3,[{taglbl:0,resol:.004,sampletype:12,lblname:"4-20_mA",divide:1},{taglbl:1,resol:1,sampletype:12,lblname:"0-10_V",divide:1},{taglbl:2,resol:100,sampletype:6,lblname:"battery_voltage",divide:1e3},{taglbl:3,resol:100,sampletype:6,lblname:"external_power_voltage",divide:1e3},{taglbl:4,resol:1,sampletype:10,lblname:"index",divide:1}]],l={analog:["4_20_mA","0_10_V"]};e.exports.decodeUplink=function(e){return 0===e.bytes[2]&&12===e.bytes[3]?result=r.watteco_decodeUplink(e,i,l):result=r.watteco_decodeUplink(e,i)}},769:e=>{let t=6,a=10,r=12,i={0:0,1:1,2:4,3:4,4:8,5:8};i[t]=16,i[7]=16,i[8]=24,i[9]=24,i[a]=32,i[11]=32,i[r]=32;let l=14,n=[[{sz:2,lbl:0},{sz:2,lbl:1},{sz:2,lbl:3},{sz:3,lbl:5},{sz:4,lbl:9},{sz:5,lbl:17},{sz:6,lbl:33},{sz:7,lbl:65},{sz:8,lbl:129},{sz:10,lbl:512},{sz:11,lbl:1026},{sz:11,lbl:1027},{sz:11,lbl:1028},{sz:11,lbl:1029},{sz:11,lbl:1030},{sz:11,lbl:1031}],[{sz:7,lbl:111},{sz:5,lbl:26},{sz:4,lbl:12},{sz:3,lbl:3},{sz:3,lbl:7},{sz:2,lbl:2},{sz:2,lbl:0},{sz:3,lbl:2},{sz:6,lbl:54},{sz:9,lbl:443},{sz:9,lbl:441},{sz:10,lbl:885},{sz:10,lbl:884},{sz:10,lbl:880},{sz:11,lbl:1763},{sz:11,lbl:1762}],[{sz:4,lbl:9},{sz:3,lbl:5},{sz:2,lbl:0},{sz:2,lbl:1},{sz:2,lbl:3},{sz:5,lbl:17},{sz:6,lbl:33},{sz:7,lbl:65},{sz:8,lbl:129},{sz:10,lbl:512},{sz:11,lbl:1026},{sz:11,lbl:1027},{sz:11,lbl:1028},{sz:11,lbl:1029},{sz:11,lbl:1030},{sz:11,lbl:1031}]];function d(e,t,a,r){return{uncompressSamples:[{data_relative_timestamp:r,data:{value:m(e,t),label:a}}],codingType:0,codingTable:0,resolution:null}}function s(e,t){for(let a=0;a<e.length;a++)if(e[a].taglbl===t.lbl)return a;throw new Error("Batch : Cannot find i1 in argList")}function o(e,t){if(t){let a=e.getNextBifromHi(1);return u(e,t,a)}return e.getNextSample(a)}function u(e,t,r){return r>l?e.getNextSample(a):r>0?function(e,t,r){return e.getNextSample(a,r)+t+Math.pow(2,r)-1}(e,t,r):t}function m(e,t){let a=e.getNextSample(t);return t===r?function(e){let t=2147483648&e?-1:1,a=(e>>23&255)-127,r=8388607&e;if(128===a)return t*(r?Number.NaN:Number.POSITIVE_INFINITY);if(-127===a){if(0===r)return 0*t;a=-126,r/=1<<22}else r=(r|1<<23)/(1<<23);return t*r*Math.pow(2,a)}(a):a}function _(e,a,r,i,l){let n=e.getNextSample(t,l);return 0===r?function(e,t,a,r){return e>=Math.pow(2,r-1)?e*t+a:(e+1-Math.pow(2,r))*t+a}(n,i,a,l):1===r?(n+Math.pow(2,l)-1)*i+a:a-(n+(Math.pow(2,l)-1))*i}Math.trunc=Math.trunc||function(e){return isNaN(e)?NaN:e>0?Math.floor(e):Math.ceil(e)},e.exports={normalisation_batch:function(e){let t=e.date,m=function(e,t,m,p){let c=function(){let e=[],t=0;for(;t<16;)e.push({codingType:0,codingTable:0,resolution:null,uncompressSamples:[]}),t+=1;return{batch_counter:0,batch_relative_timestamp:0,series:e}}(),f=function(e){function t(e,t,a){let r=t,i=a-1;if(8*e.length<r+a)throw new Error("Batch : Verify that dest buf is large enough");let l=0,n=0;for(;a>0;)e[r>>3]&1<<(7&r)&&(n|=1<<i-l),a--,l++,r++;return n}return{i1:0,byteArray:e,getNextSample:function(e,t){let a=t||i[e],l=this.i1;if(this.i1+=a,e===r&&32!==a)throw new Error("Batch : Mauvais sampletype");let n=0,d=Math.trunc((a-1)/8)+1,s=a%8;for(0===s&&d>0&&(s=8);d>0;){let e=0;for(;s>0;){let t=l>>3;this.byteArray[t]&1<<(7&l)&&(n|=1<<8*(d-1)+e),s--,e++,l+=1}d--,s=8}if((3==e||5==e||7==e||9==e)&&n&1<<a-1)for(let e=a;e<32;e++)n|=1<<e,a++;return n},getNextBifromHi:function(e){for(let a=2;a<12;a++){let r=t(this.byteArray,this.i1,a);for(let t=0;t<n[e].length;t++)if(n[e][t].sz==a&&r==n[e][t].lbl)return this.i1+=a,t}throw new Error("Bi not found in HUFF table")}}}(function(e){for(var t=[];e.length>=2;)t.push(parseInt(e.substring(0,2),16)),e=e.substring(2,e.length);return t}(m)),P=function(e){let t=e.toString(2);for(;t.length<8;)t="0"+t;return{isCommonTimestamp:parseInt(t[t.length-2],2),hasSample:!parseInt(t[t.length-3],2),batch_req:parseInt(t[t.length-4],2),nb_of_type_measure:parseInt(t.substring(0,4),2)}}(f.getNextSample(4));c.batch_counter=f.getNextSample(4,3),f.getNextSample(4,1);let E=function(e,t,a,r,i){let l=0,n=0;for(let u=0;u<r.nb_of_type_measure;u++){let m={size:i,lbl:t.getNextSample(4,i)},_=s(a,m);0===u&&(n=_),l=o(t,l),e.series[_]=d(t,a[_].sampletype,m.lbl,l),r.hasSample&&(e.series[_].codingType=t.getNextSample(4,2),e.series[_].codingTable=t.getNextSample(4,2))}return{last_timestamp:l,i1_of_the_first_sample:n}}(c,f,t,P,e),h=E.last_timestamp,b=E.i1_of_the_first_sample;return P.hasSample&&(h=function(e,t,r,i,n,d,o){return d.isCommonTimestamp?function(e,t,r,i,n,d){let o=t.getNextSample(4,8),u={},m=function(e,t,r,i){let n=[],d=0,s=t.getNextSample(4,2);for(let o=0;o<r;o++){let r=t.getNextBifromHi(s);if(r<=l)if(0===o)n.push(e.series[i].uncompressSamples[0].data_relative_timestamp);else if(r>0){let e=n[o-1];n.push(t.getNextSample(a,r)+e+Math.pow(2,r)-1)}else n.push(precedingTimestamp);else n.push(t.getNextSample(a));d=n[o]}return{timestampCommon:n,lastTimestamp:d}}(e,t,o,r),p=m.timestampCommon,c=m.lastTimestamp;for(let a=0;a<n.nb_of_type_measure;a++){let a=1;u.lbl=t.getNextSample(4,d);let r=s(i,u);for(let n=0;n<o;n++)if(t.getNextSample(4,1)){let d=t.getNextBifromHi(e.series[r].codingTable),s={data_relative_timestamp:0,data:{}};if(d<=l){let l=e.series[r].uncompressSamples[e.series[r].uncompressSamples.length-1].data.value;if(d>0)s.data.value=_(t,l,e.series[r].codingType,i[r].resol,d);else{if(a){a=0;continue}s.data.value=l}}else s.data.value=t.getNextSample(i[r].sampletype);s.data_relative_timestamp=p[n],e.series[r].uncompressSamples.push(s)}}return c}(e,t,r,i,d,o):function(e,t,a,r,i,n){let d={};for(let o=0;o<i.nb_of_type_measure;o++){d.lbl=t.getNextSample(4,n);let i=s(a,d),o=t.getNextSample(4,8);if(o){let n=t.getNextSample(4,2);for(let d=0;d<o;d++){let d=e.series[i].uncompressSamples[e.series[i].uncompressSamples.length-1].data_relative_timestamp,s={data_relative_timestamp:0,data:{}},o=t.getNextBifromHi(n);if(s.data_relative_timestamp=u(t,d,o),s.data_relative_timestamp>r&&(r=s.data_relative_timestamp),o=t.getNextBifromHi(e.series[i].codingTable),o<=l){let r=e.series[i].uncompressSamples[e.series[i].uncompressSamples.length-1].data.value;s.data.value=o>0?_(t,r,e.series[i].codingType,a[i].resol,o):r}else s.data.value=t.getNextSample(a[i].sampletype);e.series[i].uncompressSamples.push(s)}}}return r}(e,t,i,n,d,o)}(c,f,b,t,h,P,e)),c.batch_relative_timestamp=o(f,h),function(e,t,a){let r={batch_counter:e.batch_counter,batch_relative_timestamp:e.batch_relative_timestamp};return a&&(r.batch_absolute_timestamp=a),r.dataset=e.series.reduce((function(r,i,l){return r.concat(i.uncompressSamples.map((function(r){let i={data_relative_timestamp:r.data_relative_timestamp,data:{value:t[l].divide?r.data.value/t[l].divide:r.data.value,label:t[l].taglbl}};var n,d,s;return t[l].lblname&&(i.data.label_name=t[l].lblname),a&&(i.data_absolute_timestamp=(n=a,d=e.batch_relative_timestamp,s=r.data_relative_timestamp,new Date(new Date(n)-1e3*(d-s)).toISOString())),i})))}),[]),r}(c,t,p)}(e.batch1,e.batch2,e.payload,t);console.log(m);let p=[];for(let e=0;e<m.dataset.length;e++){let t=m.dataset[e],a={variable:t.data.label_name,value:t.data.value,date:t.data_absolute_timestamp};p.push(a)}return p}}},733:(e,t,a)=>{const r=a(186),i=a(769);e.exports={watteco_decodeUplink:function(e,t,a){e.bytes,e.fPort;let l=e.recvTime;try{let n=r.normalisation_standard(e,a),d=n.payload;if("batch"!==n.type)return{data:n.data,warnings:[n.warning]};{let e={batch1:t[0],batch2:t[1],payload:d,date:l};try{return{data:i.normalisation_batch(e),warnings:[""]}}catch(e){return{error:e.message,warnings:[""]}}}}catch(e){return{error:e.message,warnings:[""]}}}}},186:t=>{function a(e,t){return 2===t&&(32768&e)>0&&(e-=65536),3===t&&(8388608&e)>0&&(e-=16777216),4===t&&(2147483648&e)>0&&(e-=4294967296),e}function r(e){let t=2147483648&e?-1:1,a=(e>>23&255)-127,r=8388607&e;if(128===a)return t*(r?Number.NaN:Number.POSITIVE_INFINITY);if(-127===a){if(0===r)return 0;a=-126,r/=1<<23}else r=(r|1<<23)/(1<<23);return t*r*Math.pow(2,a)}function i(e,t,a,r){void 0===r&&(r=!1);let i,l,n="U"!=a.substr(0,1),d=parseInt(a.substr(1,2),10)/8,s=d;for(r?(i=-1,l=t+d-1):i=1,l=t,tmpInt64=0,j=l;s>0;j+=i,s--)tmpInt64=(tmpInt64<<8)+e[j];return n&&d<8&&128&e[l]&&(tmpInt64-=1<<8*d),tmpInt64}function l(e,t){let a=e.toString(16).toUpperCase();for(t=null==t?t=2:t;a.length<t;)a="0"+a;return"0x"+a}function o(e,t){return String(e).padStart(t,"0")}function u(e){return""+o(e.toString(2),8)}function _(e){return parseInt(e,2)}function p(e,t,a,r,i,l){let n=0;for(;0===a;){let d=r[l+3+e*n];if(void 0===d){i.zclheader.alarmmess=t,a=1;break}let s=u(d),o=4*_(s[5])+2*_(s[6])+_(s[7]);if("1"===s[3]&&"0"===s[4]){let e="";e="1"===s[1]?"exceed":"fall";let a="alarm, criterion_index: "+o+", mode: threshold, crossing: "+e;t.push(a)}if("0"===s[3]&&"1"===s[4]){let e="alarm, delta "+o+" triggered";t.push(e)}n+=1}}function c(e,t,a,r,i,l,n){let d=0,s=0,o=0,m=n;for(;0===a;){let n=r[l+3+e*d];if(void 0===n){i.zclheader.alarmmess=t,a=1;break}let p=u(n),c=4*_(p[5])+2*_(p[6])+_(p[7]);if("1"===p[3]&&"0"===p[4]){let a="";"1"===p[1]?(a="exceed",s=u(r[l+7+e*d])+u(r[l+8+e*d]),s=parseInt(s,2)):(a="fall",o=u(r[l+7+e*d])+u(r[l+8+e*d]),o=parseInt(o,2));let i="alarm, criterion_index: "+c+", mode: threshold, crossing: "+a+", value: "+((256*r[l+4+e*d]+r[l+5+e*d])/m).toString()+", occurences_up: "+s+", occurences_down: "+o;t.push(i)}if("0"===p[3]&&"1"===p[4]){let a="alarm, criterion_index: "+c+", mode: delta, value: "+((256*r[l+4+(e-=3)*d]+r[l+5+e*d])/m).toString();t.push(a)}d+=1}}function f(e){let t="";for(let a=0;a<e.length;a++){let r=e[a].toString(16).toUpperCase();1===r.length&&(r="0"+r),t+=r}return t}function P(t,_){let P={lora:{}};P.lora.port=_;let E=t.length,g="";P.lora.payload="";for(let e=0;e<E;e++){g=t[e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.lora.payload+=g;let a=new Date;P.lora.date=a.toISOString()}if(125===_)if(!1==!(1&t[0])){P.zclheader={},P.zclheader.report="standard";let _=-1,E=-1,A=-1;if(P.zclheader.endpoint=(224&t[0])>>5|(6&t[0])<<2,E=t[1],P.zclheader.cmdID=l(E,2),A=256*t[2]+t[3],P.zclheader.clustID=l(A,4),10===E|138===E|1===E){P.data={},_=256*t[4]+t[5],P.zclheader.attID=l(_,4);let S=t[4],v=0;if(10!==E&&138!==E||(v=7),138===E&&(P.zclheader.alarm=1),1===E&&(v=8,P.zclheader.status=t[6]),83!==A&&84!==A&&85!==A&&86!==A&&87!==A||(P.data=function(t,a,r){const l=["!?!","*",""," ACTIF","ACTIF","CONSO","CONTROLE","DEP","INACTIF","PROD","TEST","kVA","kW"],u=["!?!","*",""," ? ","000","HC","HCD","HCE","HCH","HH","HH ","HP","HP ","HPD","HPE","HPH","JA","JA ","P","P  ","PM","PM ","XXX"],_=["!?!","*","","BT 4 SUP36","BT 5 SUP36","HTA 5     ","HTA 8     ","TJ EJP    ","TJ EJP-HH ","TJ EJP-PM ","TJ EJP-SD ","TJ LU     ","TJ LU-CH  ","TJ LU-P   ","TJ LU-PH  ","TJ LU-SD  ","TJ MU     ","TV A5 BASE","TV A8 BASE","BASE","H PLEINE-CREUSE","HPHC","HC","HC et Week-End","EJP","PRODUCTEUR"],p=["!?!","*",""," ? ","000","HC","HCD","HCE","HCH","HH","HH ","HP","HP ","HPD","HPE","HPH","JA","JA ","P","P  ","PM","PM ","XXX","INDEX NON CONSO","BASE","HEURE CREUSE","HEURE PLEINE","HEURE NORMALE","HEURE POINTE","HC BLEU","BUHC","HP BLEU","BUHP","HC BLANC","BCHC","HP BLANC","BCHP","HC ROUGE","RHC","HP ROUGE","RHP","HEURE WEEK-END"],c=["!?!","*","","BT 4 SUP36","BT 5 SUP36","HTA 5     ","HTA 8     ","TJ EJP    ","TJ EJP-HH ","TJ EJP-PM ","TJ EJP-SD ","TJ LU     ","TJ LU-CH  ","TJ LU-P   ","TJ LU-PH  ","TJ LU-SD  ","TJ MU     ","TV A5 BASE","TV A8 BASE","BASE","H PLEINE-CREUSE","HPHC","HC","HC et Week-End","EJP","PRODUCTEUR"];function P(e,t,a){var r={};return 0==(128&e[t])?(iEnum=127&e[t],iEnum++,r=a[iEnum],t+=1):(sz=127&e[t],t+=1,sz>0?(r=String.fromCharCode.apply(null,e.slice(t,t+sz)),t+=sz):r=""),{x:r,i:t}}function E(e,t){return{x:ve=o(i(e,t,"U8"),2)+"/"+o(i(e,t+1,"U8"),2)+"/"+o(i(e,t+2,"U8"),2)+" "+o(i(e,t+3,"U8"),2)+":"+o(i(e,t+4,"U8"),2)+":"+o(i(e,t+5,"U8"),2),i:t+=6}}function g(e,t,a){ts=i(e,t,"U32",a),t+=4,ts+=new Date("2000/01/01 00:00:00").getTime()/1e3,ts+=3600;var r=new Date(1e3*ts);return{x:o(r.getDate(),2)+"/"+o(r.getMonth(),2)+"/"+r.getFullYear()+" "+o(r.getHours(),2)+":"+o(r.getMinutes(),2)+":"+o(r.getSeconds(),2),i:t}}function A(e,t,a){return{x:ve=String.fromCharCode.apply(null,e.slice(t,t+a)),i:t+=a}}function S(e,t){return{b:e,i:t}}function v(e,t){return function(e,t){return eos=e.slice(t).indexOf(0),ve=String.fromCharCode.apply(null,e.slice(t,t+eos)),t+=eos+1,{x:ve,i:t}}(e,t)}function H(e,t){return{x:ve=i(e,t,"U8"),i:t+=1}}function C(e,t){return{x:ve=i(e,t,"U16"),i:t+=2}}function z(e,t){return{x:ve=i(e,t,"I16"),i:t+=2}}function T(e,t){return{x:ve=i(e,t,"U24"),i:t+=3}}function R(e,t){var a={};for(t=1;t<=4;t++)a["Value_"+t]=i(e,t,"U24"),t+=3;return{x:a,i:t}}function N(e,t){return{x:ve=i(e,t,"U32"),i:t+=4}}function U(e,t){return{x:ve=BytesToFloat32(e,t),i:t+=4}}function I(e,t){return E(e,t)}function x(e,t){return g(e,t)}function w(e,t){return P(e,t,u)}function F(e,t){return{x:{},i:t=P(e,g(e,t).i,u).i}}function B(e,t){return D=o(i(e,t,"U8"),2),t++,M=o(i(e,t,"U8"),2),t++,h=o(i(e,t,"U8"),2),t++,{x:D+"/"+M+" "+h,i:t}}function O(e,t){var a={};return s=A(e,t,1),d=E(e,s.i),n=i(e,t,"U8"),t=d.i+1,a.S=s.x,a.Date=d.x,a.Value=n,{x:a,i:t}}function J(e,t){var a={};return s=A(e,t,1),d=E(e,s.i),n=i(e,t,"U16"),t=d.i+1,a.S=s.x,a.Date=d.x,a.Value=n,{x:a,i:t}}function X(e,t){var a={};return s=A(e,t,1),d=E(e,s.i),n=i(e,t,"U24"),t=d.i+1,a.S=s.x,a.Date=d.x,a.Value=n,{x:a,i:t}}function G(e,t){return P(e,t,l)}function V(t,a){var r={};return dd=i(t,a,"U24"),a+=3,r.Value=dd,e=P(t,a,l),r.Label=e.x,{x:r,i:a=e.i}}function W(e,t){return P(e,t,_)}function q(e,t){for(var a=[],r=0;r<11;r++)y={},h=o(i(e,t,"U8"),2),t++,255==h?y.Status="NONUTILE":(m=o(i(e,t,"U8"),2),t++,s=f(e.slice(t,2)),t++,y.Time=h+":"+m,y.Status=s,t+=e[t]+1),a.push(y);return{x:a,i:t}}function L(e){return e}function k(e){return e}function Y(e){return e}function j(e){return e}function Z(e){return e}function Q(e){return e}function K(e){return e}function $(e){return e}function ee(e){return e}function te(e){return e}function ae(e){return e}function re(e){return e}function ie(e){return e}function le(e){return e}function ne(e){return e}function de(e){return e}function se(e){return e}function oe(e){return e}function ue(e){return e}function me(e){return e}function _e(e){return e}const pe=[["CONTRAT",v,0,k],["DATECOUR",I,0,L],["DATE",I,0,L],["EA",T,0,function(e){return e}],["ERP",T,0,function(e){return e}],["PTCOUR",v,0,k],["PREAVIS",v,0,k],["MODE",S,0,k],["DATEPA1",I,0,L],["PA1",C,0,re],["DATEPA2",I,0,L],["PA2",C,0,re],["DATEPA3",I,0,L],["PA3",C,0,re],["DATEPA4",I,0,L],["PA4",C,0,re],["DATEPA5",I,0,L],["PA5",C,0,re],["DATEPA6",I,0,L],["PA6",C,0,re],["*p*",T,0,K],["KDC",H,0,ae],["KDCD",H,0,ae],["TGPHI",U,0,_e],["PSP",C,0,re],["PSPM",C,0,re],["PSHPH",C,0,re],["PSHPD",C,0,re],["PSHCH",C,0,re],["PSHCD",C,0,re],["PSHPE",C,0,re],["PSHCE",C,0,re],["PSJA",C,0,re],["PSHH",C,0,re],["PSHD",C,0,re],["PSHM",C,0,re],["PSDSM",C,0,re],["PSSCM",C,0,re],["MODE",S,0,k],["PA1MN",C,0,re],["PA10MN",C,0,re],["PREA1MN",z,0,ie],["PREA10MN",z,0,ie],["TGPHI",U,0,_e],["U10MN",C,0,function(e){return e}]],ce=[["DEBUTp",I,0,L,0],["FINp",I,0,L,6],["CAFp",C,0,Q,12],["DATEEAp",I,0,L,14],["EApP",T,0,oe,20],["EApPM",T,0,oe,23],["EApHCE",T,0,oe,26],["EApHCH",T,0,oe,29],["EApHH",T,0,oe,32],["EApHCD",T,0,oe,35],["EApHD",T,0,oe,38],["EApJA",T,0,oe,41],["EApHPE",T,0,oe,44],["EApHPH",T,0,oe,47],["EApHPD",T,0,oe,50],["EApSCM",T,0,oe,53],["EApHM",T,0,oe,56],["EApDSM",T,0,oe,59],["DATEERPp",I,0,L,62],["ERPpP",T,0,me,68],["ERPpPM",T,0,me,71],["ERPpHCE",T,0,me,74],["ERPpHCH",T,0,me,77],["ERPpHH",T,0,me,80],["ERPpHCD",T,0,me,83],["ERPpHD",T,0,me,86],["ERPpJA",T,0,me,89],["ERPpHPE",T,0,me,92],["ERPpHPH",T,0,me,95],["ERPpHPD",T,0,me,98],["ERPpSCM",T,0,me,101],["ERPpHM",T,0,me,104],["ERPpDSM",T,0,me,107],["DATEERNp",I,0,L,110],["ERNpP",T,0,me,116],["ERNpPM",T,0,me,119],["ERNpHCE",T,0,me,122],["ERNpHCH",T,0,me,125],["ERNpHH",T,0,me,128],["ERNpHCD",T,0,me,131],["ERNpHD",T,0,me,134],["ERNpJA",T,0,me,137],["ERNpHPE",T,0,me,140],["ERNpHPH",T,0,me,143],["ERNpHPD",T,0,me,146],["ERNpSCM",T,0,me,149],["ERNpHM",T,0,me,152],["ERNpDSM",T,0,me,155]],fe=[["DEBUTp1",I,0,L,0],["FINp1",I,0,L,6],["CAFp1",C,0,Q,12],["DATEEAp1",I,0,L,14],["EAp1P",T,0,oe,20],["EAp1PM",T,0,oe,23],["EAp1HCE",T,0,oe,26],["EAp1HCH",T,0,oe,29],["EAp1HH",T,0,oe,32],["EAp1HCD",T,0,oe,35],["EAp1HD",T,0,oe,38],["EAp1JA",T,0,oe,41],["EAp1HPE",T,0,oe,44],["EAp1HPH",T,0,oe,47],["EAp1HPD",T,0,oe,50],["EAp1SCM",T,0,oe,53],["EAp1HM",T,0,oe,56],["EAp1DSM",T,0,oe,59],["DATEERPp1",I,0,L,62],["ERPp1P",T,0,me,68],["ERPp1PM",T,0,me,71],["ERPp1HCE",T,0,me,74],["ERPp1HCH",T,0,me,77],["ERPp1HH",T,0,me,80],["ERPp1HCD",T,0,me,83],["ERPp1HD",T,0,me,86],["ERPp1JA",T,0,me,89],["ERPp1HPE",T,0,me,92],["ERPp1HPH",T,0,me,95],["ERPp1HPD",T,0,me,98],["ERPp1SCM",T,0,me,101],["ERPp1HM",T,0,me,104],["ERPp1DSM",T,0,me,107],["DATEERNp1",I,0,L,110],["ERNp1P",T,0,me,116],["ERNp1PM",T,0,me,119],["ERNp1HCE",T,0,me,122],["ERNp1HCH",T,0,me,125],["ERNp1HH",T,0,me,128],["ERNp1HCD",T,0,me,131],["ERNp1HD",T,0,me,134],["ERNp1JA",T,0,me,137],["ERNp1HPE",T,0,me,140],["ERNp1HPH",T,0,me,143],["ERNp1HPD",T,0,me,146],["ERNp1SCM",T,0,me,149],["ERNp1HM",T,0,me,152],["ERNp1DSM",T,0,me,155]],Pe=[["ADIR1",C,0,Z],["ADIR2",C,0,Z],["ADIR3",C,0,Z],["ADCO",v,0,k],["OPTARIF",v,0,k],["ISOUSC",H,0,j],["BASE",N,0,te],["HCHC",N,0,te],["HCHP",N,0,te],["EJPHN",N,0,te],["EJPHPM",N,0,te],["BBRHCJB",N,0,te],["BBRHPJB",N,0,te],["BBRHCJW",N,0,te],["BBRHPJW",N,0,te],["BBRHCJR",N,0,te],["BBRHPJR",N,0,te],["PEJP",H,0,j],["GAZ",N,0,ee],["AUTRE",N,0,ee],["PTEC",v,0,k],["DEMAIN",v,0,k],["IINST",C,0,Z],["IINST1",C,0,Z],["IINST2",C,0,Z],["IINST3",C,0,Z],["ADPS",C,0,Z],["IMAX",C,0,Z],["IMAX1",C,0,Z],["IMAX2",C,0,Z],["IMAX3",C,0,Z],["PMAX",N,0,K],["PAPP",N,0,K],["HHPHC",function(e,t){return{x:ve=String.fromCharCode.apply(null,e.slice(0,1)),i:t+=1}},0,function(e){return e}],["MOTDETAT",v,0,k],["PPOT",H,0,function(e){return e}]],Ee=[["JAUNE",function(e,t){return h=o(i(e,t,"U8"),2),t++,m=o(i(e,t,"U8"),2),t++,D=o(i(e,t,"U8"),2),t++,M=o(i(e,t,"U8"),2),t++,{x:D+"/"+M+" "+h+":"+m,i:t}},0,L],["JAUNE",v,0,k],["JAUNE",v,0,k],["JAUNE",T,0,K],["JAUNE",H,0,j],["ENERG",function(e,t){var a={};for(t=1;t<=4;t++)a["Value_"+t]=i(e,t,"U24"),t+=3;return{x:a,i:t}},0,$],["ENERG",T,0,$],["ENERG",T,0,$],["ENERG",T,0,$],["ENERG",T,0,$],["ENERG",T,0,$],["PERCC",B,0,L],["PERCC",H,0,j],["PMAXC",R,0,K],["PMAXC",T,0,K],["PMAXC",T,0,K],["PMAXC",T,0,K],["TDEPA",R,0,K],["TDEPA",T,0,K],["TDEPA",T,0,K],["TDEPA",T,0,K],["PERCP",B,0,L],["PERCP",H,0,j],["PMAXP",R,0,K],["PMAXP",T,0,K],["PMAXP",T,0,K],["PMAXP",T,0,K],["PSOUSC",R,0,K],["PSOUSC",T,0,K],["PSOUSC",T,0,K],["PSOUSC",T,0,K],["PSOUSP",R,0,K],["PSOUSP",T,0,K],["PSOUSP",T,0,K],["PSOUSP",T,0,K],["FCOU",function(e,t){return h=o(i(e,t,"U8"),2),t++,m=o(i(e,t,"U8"),2),t++,{x:h+":"+m,i:t}},0,L],["FCOU",H,0,j]],he=[["ADSC",v,0,k],["VTIC",H,0,j],["DATE",function(e,t){var a={};return s=A(e,t,1),d=E(e,s.i),a.S=s.x,a.Date=d.x,{x:a,i:t=d.i}},0,L],["NGTF",function(e,t){return P(e,t,c)},0,k],["LTARF",function(e,t){return P(e,t,p)},0,k],["EAST",N,0,te],["EASF01",N,0,te],["EASF02",N,0,te],["EASF03",N,0,te],["EASF04",N,0,te],["EASF05",N,0,te],["EASF06",N,0,te],["EASF07",N,0,te],["EASF08",N,0,te],["EASF09",N,0,te],["EASF10",N,0,te],["EASD01",N,0,te],["EASD02",N,0,te],["EASD03",N,0,te],["EASD04",N,0,te],["EAIT",N,0,te],["ERQ1",N,0,te],["ERQ2",N,0,te],["ERQ3",N,0,te],["ERQ4",N,0,te],["IRMS1",C,0,Z],["IRMS2",C,0,Z],["IRMS3",C,0,Z],["URMS1",C,0,Z],["URMS2",C,0,Z],["URMS3",C,0,Z],["PREF",H,0,j],["PCOUP",H,0,j],["SINSTS",T,0,K],["SINSTS1",T,0,K],["SINSTS2",T,0,K],["SINSTS3",T,0,K],["SMAXSN",X,0,K],["SMAXSN1",X,0,K],["SMAXSN2",X,0,K],["SMAXSN3",X,0,K],["SMAXSN?1",X,0,K],["SMAXSN1?1",X,0,K],["SMAXSN2?1",X,0,K],["SMAXSN3?1",X,0,K],["SINSTI",T,0,K],["SMAXIN",X,0,K],["SMAXIN-1",X,0,K],["CCASN",X,0,K],["CCASN?1",X,0,K],["CCAIN",X,0,K],["CCAIN?1",X,0,K],["UMOY1",J,0,Z],["UMOY2",J,0,Z],["UMOY3",J,0,Z],["STGE",function(e,t){var a=f(e.slice(t,2));return t+=4,{x:a,i:t+=4}},0,L],["DPM1",O,0,j],["FPM1",O,0,j],["DPM2",O,0,j],["FPM2",O,0,j],["DPM3",O,0,j],["FPM3",O,0,j],["MSG1",v,0,k],["MSG2",v,0,k],["PRM",v,0,k],["RELAIS",function(e,t){return ve=i(e,t,"U8"),t++,{x:ve,i:t}},0,Z],["NTARF",H,0,j],["NJOURF",H,0,j],["NJOURF+1",H,0,j],["PJOURF+1",q,0,L],["PPOINTE",q,0,L]],be=[["TRAME",G,0,k],["ADS",function(e,t){var a=f(e.slice(t+1,t+1+e[t]));return t+=e[t]+1,d={x:a,i:t},{x:a,i:t}},0,L],["MESURES1",W,0,k],["DATE",I,0,L],["EA_s",T,0,le],["ER+_s",T,0,ne],["ER-_s",T,0,ne],["EAPP_s",T,0,de],["EA_i",T,0,le],["ER+_i",T,0,ne],["ER-_i",T,0,ne],["EAPP_i",T,0,de],["PTCOUR1",w,0,k],["TARIFDYN",G,0,k],["ETATDYN1",w,0,k],["PREAVIS1",w,0,Y],["TDYN1CD",F,0,L],["TDYN1CF",F,0,L],["TDYN1FD",F,0,L],["TDYN1FF",F,0,L],["MODE",G,0,k],["CONFIG",G,0,k],["DATEPA1",I,0,L],["PA1_s",C,0,re],["PA1_i",C,0,re],["DATEPA2",x,0,L],["PA2_s",C,0,re],["PA2_i",C,0,re],["DATEPA3",x,0,L],["PA3_s",C,0,re],["PA3_i",C,0,re],["DATEPA4",x,0,L],["PA4_s",C,0,re],["PA4_i",C,0,re],["DATEPA5",x,0,L],["PA5_s",C,0,re],["PA5_i",C,0,re],["DATEPA6",x,0,L],["PA6_s",C,0,re],["PA6_i",C,0,re],["DebP",x,0,L],["EAP_s",T,0,se],["EAP_i",T,0,se],["ER+P_s",T,0,ue],["ER-P_s",T,0,ue],["ER+P_i",T,0,ue],["ER-P_i",T,0,ue],["DebP-1",x,0,L],["FinP-1",x,0,L],["EaP-1_s",T,0,se],["EaP-1_i",T,0,se],["ER+P-1_s",T,0,ue],["ER-P-1_s",T,0,ue],["ER+P-1_i",T,0,ue],["ER-P-1_i",T,0,ue],["PS",V,0,L],["PREAVIS",G,0,k],["PA1MN",C,0,re],["PMAX_s",V,0,L],["PMAX_i",V,0,L],["TGPHI_s",U,0,_e],["TGPHI_i",U,0,_e],["MESURES2",W,0,k],["PTCOUR2",w,0,k],["ETATDYN2",w,0,k],["PREAVIS2",w,0,Y],["TDYN2CD",F,0,L],["TDYN2CF",F,0,L],["TDYN2FD",F,0,L],["TDYN2FF",F,0,L],["DebP_2",x,0,L],["EaP_s2",T,0,se],["DebP-1_2",x,0,L],["FinP-1_2",x,0,L],["EaP-1_s2",T,0,se],["_DDMES1_",T,0,function(e){return e}]];if(data=[],83==t)if(!1&attributeID)profil=pe,data._TICFrameType="ICE Generale";else if(!1&attributeID)profil=ce,data._TICFrameType="ICE Periode P";else{if(!(!1&attributeID))return data;profil=fe,data._TICFrameType="ICE Periode P moins 1"}else if(84==t)profil=Pe,data._TICFrameType="CBE/Historique";else if(85==t)profil=Ee,data._TICFrameType="CJE";else if(86==t)profil=he,data._TICFrameType="Standard";else{if(87!=t)return data;profil=be,data._TICFrameType="PMEPMI"}let{DescSize:ge,Indexes:Ae}=function(e){var t=[],a=e[0],r=31&a;if(0==r&&(r=8),IsVarIndexes=0!=(32&a),IsVarIndexes)for(i=1;i<r;i++)t.push(e[i]);else{iField=0;for(var i=r;i>1;i--)for(b=0;b<8;b++)e[i-1]>>b&1&&t.push(iField),iField++}return{DescSize:r,Indexes:t}}(r);var Se=r.slice(0,ge),ve={};128==(128&Se[0])&&(ve.Obsolete=!0),ve.Bytes=f(Se),ve.Indexes=Ae,data._Descriptor=ve;for(var He=ge,Ce=0;Ce<Ae.length;Ce++)fieldIndex=Ae[Ce],d=profil[fieldIndex][1](r,He),data[profil[fieldIndex][0]]=profil[fieldIndex][3](d.x),He=d.i;return data}(A,0,t.slice(v+1))),0===A&&2===_){P.data.firmware="";for(let e=0;e<3;e++)P.data.firmware+=String(t[v+e]),e<2&&(P.data.firmware+=".");let e=256*t[v+3]*256+256*t[v+4]+t[v+5];P.data.firmware+="."+e.toString()}if(0===A&&3===_){let e=t[v];P.data.kernel="";for(let a=0;a<e;a++)P.data.kernel+=String.fromCharCode(t[v+1+a])}if(0===A&&4===_){let e=t[v];P.data.manufacturer="";for(let a=0;a<e;a++)P.data.manufacturer+=String.fromCharCode(t[v+1+a])}if(0===A&&5===_){let e=t[v];P.data.model="";for(let a=0;a<e;a++)P.data.model+=String.fromCharCode(t[v+1+a])}if(0===A&&6===_){let e=t[v];P.data.date="";for(let a=0;a<e;a++)P.data.date+=String.fromCharCode(t[v+1+a])}if(0===A&&16===_){let e=t[v];P.data.position="";for(let a=0;a<e;a++)P.data.position+=String.fromCharCode(t[v+1+a])}if(0===A&&32769===_){let e=t[v];P.data.application_name="";for(let a=0;a<e;a++)P.data.application_name+=String.fromCharCode(t[v+1+a])}if(1026===A&&0===_&&(P.data.temperature=a(256*t[v]+t[v+1],2)/100,138===E)){let e="",a=[],r=0,i=100;e=void 0===t[v+2]?"none":u(t[v+2]),"none"===e&&(a.push("alarm triggered"),P.zclheader.alarmmess=a),"0"===e[2]&&"1"===e[3]&&p(1,a,r,t,P,v),"1"===e[2]&&"0"===e[3]&&c(6,a,r,t,P,v,i)}if(1026===A&&1===_&&(P.data.min_temperature=a(256*t[v]+t[v+1],2)/100),1026===A&&2===_&&(P.data.max_temperature=a(256*t[v]+t[v+1],2)/100),1029===A&&0===_&&(P.data.humidity=(256*t[v]+t[v+1])/100,138===E)){let e=[],a=0,r=100,i="";i=void 0===t[v+2]?"none":u(t[v+2]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(6,e,a,t,P,v,r)}if(1029===A&&1===_&&(P.data.min_humidity=(256*t[v]+t[v+1])/100),1029===A&&2===_&&(P.data.max_humidity=(256*t[v]+t[v+1])/100),15===A&&1026===_&&(P.data.counter=256*t[v]*256*256+256*t[v+1]*256+256*t[v+2]+t[v+3],138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+4]?"none":u(t[v+4]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(8,e,a,t,P,v,r)}if(15===A&&85===_&&(P.data.pin_state=!!t[v],138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+1]?"none":u(t[v+1]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(5,e,a,t,P,v,r)}if(15===A&&84===_&&(0===t[v]&&(P.data.polarity="normal"),1===t[v]&&(P.data.polarity="reverse")),15===A&&1024===_&&(0===t[v]&&(P.data.edgeselection="none"),1===t[v]&&(P.data.edgeselection="falling edge"),2===t[v]&&(P.data.edgeselection="rising edge"),3===t[v]&&(P.data.edgeselection="both edges"),5===t[v]&&(P.data.edgeselection="polling and falling edge"),6===t[v]&&(P.data.edgeselection="polling and rising edge"),7===t[v]&&(P.data.edgeselection="polling and both edges")),15===A&&1025===_&&(P.data.debounceperiod=t[v]),15===A&&1027===_&&(P.data.pollperiod=t[v]),15===A&&1028===_&&(P.data.forcenotify=t[v]),19===A&&85===_&&(P.data.value=t[v],138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+1]?"none":u(t[v+1]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(5,e,a,t,P,v,r)}if(6===A&&0===_){let e=t[v];P.data.state=1===e?"ON":"OFF"}if(32776===A&&0===_&&(P.data.differential_pressure=256*t[v]+t[v+1],138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+2]?"none":u(t[v+2]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(8,e,a,t,P,v,r)}if(32773===A&&0===_&&(P.data.pin_state_1=1==(1&t[v+1]),P.data.pin_state_2=2==(2&t[v+1]),P.data.pin_state_3=4==(4&t[v+1]),P.data.pin_state_4=8==(8&t[v+1]),P.data.pin_state_5=16==(16&t[v+1]),P.data.pin_state_6=32==(32&t[v+1]),P.data.pin_state_7=64==(64&t[v+1]),P.data.pin_state_8=128==(128&t[v+1]),P.data.pin_state_9=1==(1&t[v]),P.data.pin_state_10=2==(2&t[v]),138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+2]?"none":u(t[v+2]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(5,e,a,t,P,v,r)}if(32774===A&&0===_&&(P.data.speed=256*t[v]*256+256*t[v+1]+t[v+2]),32774===A&&1===_&&(P.data.databit=t[v]),32774===A&&2===_&&(P.data.parity=t[v]),32774===A&&3===_&&(P.data.stopbit=t[v]),12===A&&85===_&&(P.data.analog=r(256*t[v]*256*256+256*t[v+1]*256+256*t[v+2]+t[v+3]),138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+4]?"none":u(t[v+4]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(8,e,a,t,P,v,r)}if(12===A&&256===_&&(5===t[v+1]&&(P.data.type="ppm"),255===t[v+1]&&0===t[v+3]&&(P.data.type="mA"),255===t[v+1]&&1===t[v+3]&&(P.data.type="mV")),12===A&&32771===_&&(P.data.powerduration=256*t[v]+t[v+1]),12===A&&32772===_){let e={},a=u(t[v]),r=u(t[v+1]),i=2*a[0]+a[1];0===i&&(e.mode="idle"),1===i&&(e.mode="chock"),2===i&&(e.mode="click");let l=8*a[2]+4*a[3]+2*a[4]+a[5];0===l&&(e.frequency="idle"),1===l&&(e.frequency="1Hz"),2===l&&(e.frequency="10Hz"),3===l&&(e.frequency="25Hz"),4===l&&(e.frequency="50Hz"),5===l&&(e.frequency="100Hz"),6===l&&(e.frequency="200Hz"),7===l&&(e.frequency="400Hz"),8===l&&(e.frequency="1620Hz"),9===l&&(e.frequency="5376Hz"),e.range={};let n=2*a[6]+a[7];0===n&&(e.range.precision="+/- 2g",e.range.value=16),1===n&&(e.range.precision="+/- 4g",e.range.value=32),2===n&&(e.range.precision="+/- 8g",e.range.value=64),3===n&&(e.range.precision="+/- 16g",e.range.value=128);let d=128*r[0]+64*r[1]+32*r[2]+16*r[3]+8*r[4]+4*r[5]+2*r[6]+r[7];e.threshold=d*e.range.value}if(32775===A&&1===_){P.data.payload="",P.data.modbus_payload="",P.data.size=t[v],P.data.modbus_float=0;for(let e=0;e<P.data.size;e++)if(g=t[v+e+1].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.payload+=g,0===e)P.data.modbus_address=t[v+e+1];else if(1===e)P.data.modbus_commandID=t[v+e+1];else if(2===e)P.data.modbus_size=t[v+e+1];else{if(P.data.modbus_payload+=g,1===P.data.modbus_float){let a=r(256*t[v+e+1]*256*256+256*t[v+e+1+1]*256+256*t[v+e+1+2]+t[v+e+1+3]);3===e&&(P.data.fregister_00=a),7===e&&(P.data.fregister_01=a),11===e&&(P.data.fregister_02=a),15===e&&(P.data.fregister_03=a),19===e&&(P.data.fregister_04=a),23===e&&(P.data.fregister_05=a),27===e&&(P.data.fregister_06=a),31===e&&(P.data.fregister_07=a),35===e&&(P.data.fregister_08=a),35===e&&(P.data.fregister_09=a)}if(2===P.data.modbus_float){let a=r(256*t[v+e+1]+t[v+e+1+1]+256*t[v+e+1+2]*256*256+256*t[v+e+1+3]*256);3===e&&(P.data.fregister_00=a),7===e&&(P.data.fregister_01=a),11===e&&(P.data.fregister_02=a),15===e&&(P.data.fregister_03=a),19===e&&(P.data.fregister_04=a),23===e&&(P.data.fregister_05=a),27===e&&(P.data.fregister_06=a),31===e&&(P.data.fregister_07=a),35===e&&(P.data.fregister_08=a),35===e&&(P.data.fregister_09=a)}}}if(32777===A&&0===_){let e=t[v+2],a=t[v+3];P.data.payloads="",P.data.size=t[v],P.data.multimodbus_frame_series_sent=t[v+1],P.data.multimodbus_frame_number_in_serie=(224&e)>>5,P.data.multimodbus_last_frame_of_serie=(28&e)>>2,P.data.multimodbus_EP9=1==(1&e),P.data.multimodbus_EP8=2==(2&e),P.data.multimodbus_EP7=128==(128&a),P.data.multimodbus_EP6=64==(64&a),P.data.multimodbus_EP5=32==(32&a),P.data.multimodbus_EP4=16==(16&a),P.data.multimodbus_EP3=8==(8&a),P.data.multimodbus_EP2=4==(4&a),P.data.multimodbus_EP1=2==(2&a),P.data.multimodbus_EP0=1==(1&a);let r=v+4;if(without_header=0,!0===P.data.multimodbus_EP0){if(0===without_header&&(P.data.multimodbus_EP0_slaveID=t[r],P.data.multimodbus_EP0_fnctID=t[r+1],P.data.multimodbus_EP0_datasize=t[r+2],r+=3),P.data.multimodbus_EP0_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP0_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP0_payload+=g;r+=P.data.multimodbus_EP0_datasize}if(!0===P.data.multimodbus_EP1){if(0===without_header&&(P.data.multimodbus_EP1_slaveID=t[r],P.data.multimodbus_EP1_fnctID=t[r+1],P.data.multimodbus_EP1_datasize=t[r+2],r+=3),P.data.multimodbus_EP1_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP1_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP1_payload+=g;r+=P.data.multimodbus_EP1_datasize}if(!0===P.data.multimodbus_EP2){if(0===without_header&&(P.data.multimodbus_EP2_slaveID=t[r],P.data.multimodbus_EP2_fnctID=t[r+1],P.data.multimodbus_EP2_datasize=t[r+2],r+=3),P.data.multimodbus_EP2_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP2_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP2_payload+=g;r+=P.data.multimodbus_EP2_datasize}if(!0===P.data.multimodbus_EP3){if(0===without_header&&(P.data.multimodbus_EP3_slaveID=t[r],P.data.multimodbus_EP3_fnctID=t[r+1],P.data.multimodbus_EP3_datasize=t[r+2],r+=3),P.data.multimodbus_EP3_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP3_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP3_payload+=g;r+=P.data.multimodbus_EP3_datasize}if(!0===P.data.multimodbus_EP4){if(0===without_header&&(P.data.multimodbus_EP4_slaveID=t[r],P.data.multimodbus_EP4_fnctID=t[r+1],P.data.multimodbus_EP4_datasize=t[r+2],r+=3),P.data.multimodbus_EP4_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP4_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP4_payload+=g;r+=P.data.multimodbus_EP4_datasize}if(!0===P.data.multimodbus_EP5){if(0===without_header&&(P.data.multimodbus_EP5_slaveID=t[r],P.data.multimodbus_EP5_fnctID=t[r+1],P.data.multimodbus_EP5_datasize=t[r+2],r+=3),P.data.multimodbus_EP5_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP5_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP5_payload+=g;r+=P.data.multimodbus_EP5_datasize}if(!0===P.data.multimodbus_EP6){if(0===without_header&&(P.data.multimodbus_EP6_slaveID=t[r],P.data.multimodbus_EP6_fnctID=t[r+1],P.data.multimodbus_EP6_datasize=t[r+2],r+=3),P.data.multimodbus_EP6_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP6_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP6_payload+=g;r+=P.data.multimodbus_EP6_datasize}if(!0===P.data.multimodbus_EP7){if(0===without_header&&(P.data.multimodbus_EP7_slaveID=t[r],P.data.multimodbus_EP7_fnctID=t[r+1],P.data.multimodbus_EP7_datasize=t[r+2],r+=3),P.data.multimodbus_EP7_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP7_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP7_payload+=g;r+=P.data.multimodbus_EP7_datasize}if(!0===P.data.multimodbus_EP8){if(0===without_header&&(P.data.multimodbus_EP8_slaveID=t[r],P.data.multimodbus_EP8_fnctID=t[r+1],P.data.multimodbus_EP8_datasize=t[r+2],r+=3),P.data.multimodbus_EP8_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP8_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP8_payload+=g;r+=P.data.multimodbus_EP8_datasize}if(!0===P.data.multimodbus_EP9){if(0===without_header&&(P.data.multimodbus_EP6_slaveID=t[r],P.data.multimodbus_EP6_fnctID=t[r+1],P.data.multimodbus_EP6_datasize=t[r+2],r+=3),P.data.multimodbus_EP6_payload="",void 0===t[r])return P;for(let e=0;e<P.data.multimodbus_EP6_datasize;e++)g=t[r+e].toString(16).toUpperCase(),1===g.length&&(g="0"+g),P.data.multimodbus_EP6_payload+=g;r+=P.data.multimodbus_EP6_datasize}if(138===E){let e=[],a=0,r=1,i="";i=void 0===t[v+1]?"none":u(t[v+1]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(5,e,a,t,P,v,r)}}if(82===A&&0===_&&(P.data.active_energy_Wh=a(256*t[v+1]*256+256*t[v+2]+t[v+3],3),P.data.reactive_energy_Varh=a(256*t[v+4]*256+256*t[v+5]+t[v+6],3),P.data.nb_samples=256*t[v+7]+t[v+8],P.data.active_power_W=a(256*t[v+9]+t[v+10],2),P.data.reactive_power_let=a(256*t[v+11]+t[v+12],2)),32772===A&&0===_&&(1===t[v]&&(P.data.message_type="confirmed"),0===t[v]&&(P.data.message_type="unconfirmed")),32772===A&&1===_&&(P.data.nb_retry=t[v]),32772===A&&2===_&&(P.data.automatic_association={},P.data.automatic_association.period_in_minutes=256*t[v+1]+t[v+2],P.data.automatic_association.nb_err_frames=256*t[v+3]+t[v+4]),32772===A&&3===_&&(P.data.datarate=t[v+2]),32772===A&&4===_){P.data.ABP_dev_address="";for(let e=0;e<4;e++)P.data.ABP_dev_address+=String(t[v+1+e]),e<3&&(P.data.ABP_dev_address+=".")}if(32772===A&&5===_){P.data.OTA_app_EUI="";for(let e=0;e<8;e++)P.data.OTA_app_EUI+=String(t[v+1+e]),e<7&&(P.data.OTA_app_EUI+=".")}if(80===A&&4===_){t[v],t[v+1];let e={},a=t[v+2];for(let r=0;r<a;r++){let a={};a.endpoint=t[v+3+7*r];let i=t[v+4+7*r];a.input_clusters=[];for(let e=0;e<i;e++)a.input_clusters[e]=l(256*t[v+5+7*r+2*e]+t[v+6+7*r+2*e],4);let n=t[v+5+7*r+2*i];a.output_clusters=[];for(let e=0;e<n;e++)a.output_clusters[e]=l(256*t[v+6+7*r+2*e]+t[v+7+7*r+2*e],4);e[r]=a}P.data.configuration=e}if(80===A&&6===_){let e=v+3;if(1==(1&t[v+2])&&(P.data.main_or_external_voltage=(256*t[e]+t[e+1])/1e3,e+=2),2==(2&t[v+2])&&(P.data.rechargeable_battery_voltage=(256*t[e]+t[e+1])/1e3,e+=2),4==(4&t[v+2])&&(P.data.disposable_battery_voltage=(256*t[e]+t[e+1])/1e3,e+=2),8==(8&t[v+2])&&(P.data.solar_harvesting_voltage=(256*t[e]+t[e+1])/1e3,e+=2),16==(16&t[v+2])&&(P.data.tic_harvesting_voltage=(256*t[e]+t[e+1])/1e3,e+=2),138===E){let e=[],a=0,r=1e3,i="";i=void 0===t[v+2]?"none":u(t[v+2]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(6,e,a,t,P,v,r)}}if(80===A&&255===S){let e="action "+t[5].toString();P.data[e]="";let a=t[v+1],r="none";for(let e=0;e<a;e++)r+=String.fromCharCode(t[v+1+e]);P.data[e]=r}if(32778===A&&0===_){let e=v;if(P.data.sum_positive_active_energy_Wh=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),e+=4,P.data.sum_negative_active_energy_Wh=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),e+=4,P.data.sum_positive_reactive_energy_Wh=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),e+=4,P.data.sum_negative_reactive_energy_Wh=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),e+=4,P.data.positive_active_power_W=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),e+=4,P.data.negative_active_power_W=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),e+=4,P.data.positive_reactive_power_W=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),e+=4,P.data.negative_reactive_power_W=a(256*t[e+1]*256*256+256*t[e+2]*256+256*t[e+3]+t[e+4],4),138===E){let a=[],r=0,i=1,l="";l=void 0===t[e+5]?"none":u(t[e+5]),"none"===l&&(a.push("alarm triggered"),P.zclheader.alarmmess=a),"0"===l[2]&&"1"===l[3]&&p(1,a,r,t,P,v),"1"===l[2]&&"0"===l[3]&&c(8,a,r,t,P,v,i)}}if(32784===A&&0===_){if(P.data.ActiveEnergyWhPhaseA=a(256*t[v+1]*256*256+256*t[v+2]*256+256*t[v+3]+t[v+4]),P.data.ReactiveEnergyWhPhaseA=a(256*t[v+5]*256*256+256*t[v+6]*256+256*t[v+7]+t[v+8]),P.data.ActiveEnergyWhPhaseB=a(256*t[v+9]*256*256+256*t[v+10]*256+256*t[v+11]+t[v+12]),P.data.ReactiveEnergyWhPhaseB=a(256*t[v+13]*256*256+256*t[v+14]*256+256*t[v+15]+t[v+16]),P.data.ActiveEnergyWhPhaseC=a(256*t[v+17]*256*256+256*t[v+18]*256+256*t[v+19]+t[v+20]),P.data.ReactiveEnergyWhPhaseC=a(256*t[v+21]*256*256+256*t[v+22]*256+256*t[v+23]+t[v+24]),P.data.ActiveEnergyWhPhaseABC=a(256*t[v+25]*256*256+256*t[v+26]*256+256*t[v+27]+t[v+28]),P.data.ReactiveEnergyWhPhaseABC=a(256*t[v+29]*256*256+256*t[v+30]*256+256*t[v+31]+t[v+32]),138===E){let e=[],a=0,r=1,i="";i=void 0===t[v+33]?"none":u(t[v+33]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(8,e,a,t,P,v,r)}}else if(32784===A&&1===_&&(P.data.ActivePowerWPhaseA=a(256*t[v+1]*256*256+256*t[v+2]*256+256*t[v+3]+t[v+4]),P.data.ReactivePowerWPhaseA=a(256*t[v+5]*256*256+256*t[v+6]*256+256*t[v+7]+t[v+8]),P.data.ActivePowerWPhaseB=a(256*t[v+9]*256*256+256*t[v+10]*256+256*t[v+11]+t[v+12]),P.data.ReactivePowerWPhaseB=a(256*t[v+13]*256*256+256*t[v+14]*256+256*t[v+15]+t[v+16]),P.data.ActivePowerWPhaseC=a(256*t[v+17]*256*256+256*t[v+18]*256+256*t[v+19]+t[v+20]),P.data.ReactivePowerWPhaseC=a(256*t[v+21]*256*256+256*t[v+22]*256+256*t[v+23]+t[v+24]),P.data.ActivePowerWPhaseABC=a(256*t[v+25]*256*256+256*t[v+26]*256+256*t[v+27]+t[v+28]),P.data.ReactivePowerWPhaseABC=a(256*t[v+29]*256*256+256*t[v+30]*256+256*t[v+31]+t[v+32]),138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+33]?"none":u(t[v+33]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(8,e,a,t,P,v,r)}if(32779===A&&0===_){let e=v;if(P.data.Vrms=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.Irms=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.phase_angle=a(256*t[e+1]+t[e+2],2),138===E){let a=[],r=0,i=1,l="";l=void 0===t[e+3]?"none":u(t[e+3]),"none"===l&&(a.push("alarm triggered"),P.zclheader.alarmmess=a),"0"===l[2]&&"1"===l[3]&&p(1,a,r,t,P,v),"1"===l[2]&&"0"===l[3]&&c(6,a,r,t,P,v,i)}}if(32781===A&&0===_&&(P.data.VrmsA=a(256*t[v+1]+t[v+2],2)/10,P.data.IrmsA=a(256*t[v+3]+t[v+4],2)/10,P.data.PhaseA=a(256*t[v+5]+t[v+6],2),P.data.VrmsB=a(256*t[v+7]+t[v+8],2)/10,P.data.IrmsB=a(256*t[v+9]+t[v+10],2)/10,P.data.PhaseB=a(256*t[v+11]+t[v+12],2),P.data.VrmsC=a(256*t[v+13]+t[v+14],2)/10,P.data.IrmsC=a(256*t[v+15]+t[v+16],2)/10,P.data.PhaseC=a(256*t[v+17]+t[v+18],2),138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+19]?"none":u(t[v+19]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(6,e,a,t,P,v,r)}if(32780===A&&0===_&&(P.data.Concentration=256*t[v]+t[v+1],138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+2]?"none":u(t[v+2]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(6,e,a,t,P,v,r)}if(32780===A&&1===_&&(P.data.analog=t[v]),32780===A&&2===_&&(P.data.analog=t[v]),1024===A&&0===_&&(P.data.Illuminance=256*t[v]+t[v+1],138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+2]?"none":u(t[v+2]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(6,e,a,t,P,v,r)}if(1027===A&&0===_&&(P.data.Pressure=a(256*t[v]+t[v+1],2),138===E)){let e=[],a=0,r=100,i="";i=void 0===t[v+2]?"none":u(t[v+2]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(6,e,a,t,P,v,r)}if(1030===A&&0===_&&(P.data.Occupancy=!!t[v],138===E)){let e=[],a=0,r=1,i="";i=void 0===t[v+1]?"none":u(t[v+1]),"none"===i&&(e.push("alarm triggered"),P.zclheader.alarmmess=e),"0"===i[2]&&"1"===i[3]&&p(1,e,a,t,P,v),"1"===i[2]&&"0"===i[3]&&c(5,e,a,t,P,v,r)}if(32850===A&&0===_){let e=v;P.data.frequency=(a(256*t[e+1]+t[e+2],2)+22232)/1e3,e+=2,P.data.frequency_min=(a(256*t[e+1]+t[e+2],2)+22232)/1e3,e+=2,P.data.frequency_max=(a(256*t[e+1]+t[e+2],2)+22232)/1e3,e+=2,P.data.Vrms=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.Vrms_min=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.Vrms_max=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.Vpeak=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.Vpeak_min=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.Vpeak_max=a(256*t[e+1]+t[e+2],2)/10,e+=2,P.data.over_voltage=a(256*t[e+1]+t[e+2],2),e+=2,P.data.sag_voltage=a(256*t[e+1]+t[e+2],2)}if(32783===A){let e=v+1;if(0===_){let a=P.data.Last={};a.NbTriggedAcq=i(t,e,"U32"),e+=4,a.Mean_X_G=i(t,e,"U16")/100,e+=2,a.Max_X_G=i(t,e,"U16")/100,e+=2,a.Dt_X_ms=i(t,e,"U16"),e+=2,a.Mean_Y_G=i(t,e,"U16")/100,e+=2,a.Max_Y_G=i(t,e,"U16")/100,e+=2,a.Dt_Y_ms=i(t,e,"U16"),e+=2,a.Mean_Z_G=i(t,e,"U16")/100,e+=2,a.Max_Z_G=i(t,e,"U16")/100,e+=2,a.Dt_Z_ms=i(t,e,"U16")}else if(1===_||2===_||3===_){let a=1===_?"Stats_X":2===_?"Stats_Y":"Stats_Z",r=P.data[a]={};r.NbAcq=i(t,e,"U16"),e+=2,r.MinMean_G=i(t,e,"U16")/100,e+=2,r.MinMax_G=i(t,e,"U16")/100,e+=2,r.MinDt=i(t,e,"U16"),e+=2,r.MeanMean_G=i(t,e,"U16")/100,e+=2,r.MeanMax_G=i(t,e,"U16")/100,e+=2,r.MeanDt=i(t,e,"U16"),e+=2,r.MaxMean_G=i(t,e,"U16")/100,e+=2,r.MaxMax_G=i(t,e,"U16")/100,e+=2,r.MaxDt=i(t,e,"U16"),e+=2}else if(32768===_){let a=P.data.Params={};a.WaitFreq_Hz=i(t,e,"U16")/10,e+=2,a.AcqFreq_Hz=i(t,e,"U16")/10,e+=2;let r=i(t,e,"U16");e+=2,32768&r&&(r=60*(-32769&r)),a.NewWaitDelay_s=32768&r?r=60*(-32769&r):r,a.MaxAcqDuration_ms=i(t,e,"U16"),e+=2,a.Threshold_X_G=i(t,e,"U16")/100,e+=2,a.Threshold_Y_G=i(t,e,"U16")/100,e+=2,a.Threshold_Z_G=i(t,e,"U16")/100,e+=2,a.OverThrsh_Dt_ms=i(t,e,"U16"),e+=2,a.UnderThrsh_Dt_ms=i(t,e,"U16"),e+=2,a.Range_G=i(t,e,"U16")/100,e+=2,a.FilterSmoothCoef=i(t,e,"U8"),e+=1,a.FilterGainCoef=i(t,e,"U8"),e+=1,a=P.data.Params.WorkingModes={},a.SignalEachAcq=128&t[e]?"true":"false",a.RstAftStdRpt_X=1&t[e]?"true":"false",a.RstAftStdRpt_Y=2&t[e]?"true":"false",a.RstAftStdRpt_7=4&t[e]?"true":"false"}}}if(7===E){_=256*t[6]+t[7],P.zclheader.attID=l(_,4),P.zclheader.status=t[4],P.zclheader.batch={};let e=u(t[5]);P.zclheader.batch.new_mode_configuration=e[0],"0"===e[2]&&"0"===e[3]&&(P.zclheader.batch.cause_request="none"),"0"===e[2]&&"1"===e[3]&&(P.zclheader.batch.cause_request="short"),"1"===e[2]&&"0"===e[3]&&(P.zclheader.batch.cause_request="long"),"1"===e[2]&&"1"===e[3]&&(P.zclheader.batch.cause_request="reserved"),P.zclheader.batch.secured_if_alarm=e[4],P.zclheader.batch.secured=e[5],P.zclheader.batch.no_hearde_port=e[6],P.zclheader.batch.batch=e[7]}if(9===E){_=256*t[6]+t[7],P.zclheader.attID=l(_,4),P.zclheader.status=t[4],P.zclheader.batch={};let e=u(t[5]);if(P.zclheader.batch.new_mode_configuration=e[0],"0"===e[2]&&"0"===e[3]&&(P.zclheader.batch.cause_request="none"),"0"===e[2]&&"1"===e[3]&&(P.zclheader.batch.cause_request="short"),"1"===e[2]&&"0"===e[3]&&(P.zclheader.batch.cause_request="long"),"1"===e[2]&&"1"===e[3]&&(P.zclheader.batch.cause_request="reserved"),P.zclheader.batch.secured_if_alarm=e[4],P.zclheader.batch.secured=e[5],P.zclheader.batch.no_hearde_port=e[6],P.zclheader.batch.batch=e[7],P.zclheader.attribut_type=t[8],P.zclheader.min={},128==(128&t[9])?(P.zclheader.min.value=256*(t[9]-128)+t[10],P.zclheader.min.unit="minutes"):(P.zclheader.min.value=256*t[9]+t[10],P.zclheader.min.unit="seconds"),P.zclheader.max={},128==(128&t[11])?(P.zclheader.max.value=256*(t[11]-128)+t[12],P.zclheader.max.unit="minutes"):(P.zclheader.max.value=256*t[11]+t[12],P.zclheader.max.unit="seconds"),P.lora.payload="",80===A&&6===_){let e=t[13]/5,a=0;for(;e>0;)P.zclheader.modepower=t[14+5*a],P.zclheader.powersource=t[15+5*a],P.zclheader.delta=256*t[16+5*a]+t[17+5*a],P.zclheader.changedpowersource=t[18+5*a],a++,e--}}}else P.batch={},P.batch.report="batch";return P}t.exports={normalisation_standard:function(e,t){let a="",r=e.bytes,i=!0,l=0;console.log(e);let n=P(r,e.fPort);if(console.log(n),void 0!==n.zclheader&&n.zclheader.alarm&&(a=n.zclheader.alarmmess,console.log(a)),7===r[1]&&r[0]%2!=0)return{data:n.zclheader,warning:a};if(9===r[1])return{data:n.zclheader,warning:a};if(1===r[1]){if(void 0===n.zclheader.data){let t=[];for(;i;){let a=Object.keys(n.data)[l];if(void 0===a){i=!1;break}t.push({variable:a,value:n.data[a],date:e.recvTime}),l++}return{data:t,type:"standard",warning:a}}return{data:{variable:"read reporting configuration response status",value:n.zclheader.data,date:e.recvTime},warning:a}}if(void 0!==n.zclheader){if(void 0!==t){let r=n.zclheader.endpoint,i=!0,l=0,d=[];for(;i;){let a=Object.keys(n.data)[l];if(void 0===a){i=!1;break}{let i=t[a][r];d.push({variable:i,value:n.data[a],date:e.recvTime}),l++}}return{data:d,type:"standard",warning:a}}{let t=!0,r=0,i=[];for(;t;){let a=Object.keys(n.data)[r];if(void 0===a){t=!1;break}i.push({variable:a,value:n.data[a],date:e.recvTime}),r++}return{data:i,type:"standard",warning:a}}}return{type:n.batch.report,payload:n.lora.payload}}}}},a={},r=function e(r){var i=a[r];if(void 0!==i)return i.exports;var l=a[r]={exports:{}};return t[r](l,l.exports,e),l.exports}(916);driver=r})();